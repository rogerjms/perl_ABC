function EventTarget(){this._listeners={}}EventTarget.prototype={constructor:EventTarget,addListener:function(A,B){if(typeof this._listeners[A]=="undefined"){this._listeners[A]=[]}this._listeners[A].push(B)},fire:function(D,E){if(typeof D=="string"){D={type:D}}if(!D.target){D.target=this}if(!D.type){throw new Error("Event object missing 'type' property.")}if(this._listeners[D.type] instanceof Array){var C=this._listeners[D.type];for(var B=0,A=C.length;B<A;B++){C[B].call(this,D,E)}}},removeListener:function(D,E){if(this._listeners[D] instanceof Array){var C=this._listeners[D];
for(var B=0,A=C.length;B<A;B++){if(C[B]===E){C.splice(B,1);break}}}}};var authUrl="";var defAuthUrl="https://www.ibm.com/developerworks/dwwi/DWAuthRouter?lang=en";var sUrl="";var defSUrl="https://www.ibm.com/";var signinHref="";var signinText="";var signoutHref="";var signoutText="";dwsi={};dwsi.flashAvail=false;dwsi.useFlash=true;dwsi.signinType="overlay";dwsi.dwsiEvtTgt=new EventTarget();dwsi.fi={};function fetchData(A,G,B,I,C,D){var H=I||"json";var F=C||"GET";var E=D||"";if(typeof (jQuery)!="undefined"){jQuery.ajax({type:F,data:E,async:true,dataType:H,url:A,success:G})
}}function signoutCb(){if(rBHash.isSecPg==true){jQuery("#ibm-mast-options-dw #dw-mast-top-0 a").click();jQuery("#dw-mast-top-0, #dw-mast-top-0 a").unbind("click");window.location=(typeof rBHash.redirectUrl!="undefined")?rBHash.redirectUrl:sUrl.replace("https","http")+"/developerworks/"}else{jQuery("#dw-mast-top-0, #dw-mast-top-0 a").removeClass("authenticated");jQuery("#dw-mast-top-0 a").attr("href",signinHref).html(signinText);document.getElementById("dw-mast-auth").className="dw-mf-hide";document.getElementById("dw-mast-notify").className="dw-mf-hide";
if(dwsi.useFlash&&dwsi.flashAvail){document.getElementById("dw-mast-sso").className="";focusIbmid();jQuery("#ibmid_mf").focus()}else{jQuery("#ibm-mast-options-dw #dw-mast-top-0 a").click();jQuery("#dw-mast-top-0, #dw-mast-top-0 a").unbind("click")}dwsi.dwsiEvtTgt.fire({type:"dwsi_logged_out"},{json:{}})}}function signOut(){var C=location.href;if(typeof rBHash.isSecPg!="undefined"&&typeof rBHash.redirectUrl!="undefined"){if(rBHash.isSecPg&&rBHash.redirectUrl!=""){C=rBHash.redirectUrl}}if(dwsi.useFlash&&dwsi.flashAvail){var B=document.getElementById("sflash");
if(B){var A=new Object();A.callback="signoutCb";A.serverpath=sUrl+"developerworks/mydeveloperworks/profiles/ibm_security_logout?logoutExitPage=/index.jsp&rn="+Math.random();B.sendData(A)}else{window.location=sUrl+"developerworks/mydeveloperworks/profiles/ibm_security_logout?logoutExitPage="+encodeURIComponent(C)+"&rn="+Math.random()}}else{window.location=sUrl+"developerworks/mydeveloperworks/profiles/ibm_security_logout?logoutExitPage="+encodeURIComponent(C)+"&rn="+Math.random()}}function initSI(){jQuery("#dw-mast-top-0 a").removeClass("dw-mf-noscript").attr("title","").attr("href","/developerworks/dwwi/DWAuthRouter?m=loginpage&lang="+rBHash.viperLang+"&d="+encodeURIComponent(location.href));
var B=location.href;var C="";var A=B.indexOf("developerworks");if(A!=-1){C=B.substring(0,A);C=C.replace("http:","https:");sUrl=C;authUrl=C+"developerworks/dwwi/DWAuthRouter?lang="+rBHash.viperLang}else{sUrl=defSUrl;authUrl=defAuthUrl}if(typeof (rBHash.useF)!="undefined"&&!rBHash.useF){dwsi.useFlash=false}prepareFlashEnv();if(dwsi.useFlash&&!dwsi.flashAvail){var D=jQuery("#dw-mast-top-0").clone(true).data("events").click;var E=jQuery("#dw-mast-top-0 a").clone(true).data("events").click;jQuery("#dw-mast-top-0, #dw-mast-top-0 a").unbind("click")
}signinHref=jQuery("#dw-mast-top-0 a").attr("href");signinText=jQuery("#dw-mast-top-0 a").text();signoutHref=jQuery("#dw-mast-top-2 a").attr("href");signoutText=jQuery("#dw-mast-top-2 a").html();fetchData("/developerworks/dwwi/jsp/Auth.jsp?format=json&rn="+Math.random(),function(F){if(typeof (F.status)!="undefined"){if(F.status=="true"){if(dwsi.useFlash&&!dwsi.flashAvail){jQuery.each(D,function(G,H){jQuery("#dw-mast-top-0").bind("click",H)});jQuery.each(E,function(H,G){jQuery("#dw-mast-top-0 a").bind("click",G)
})}getUserNotifications();changeSigninHtml(F);F.signin_type="mf";dwsi.dwsiEvtTgt.fire({type:"dwsi_logged_in_onpgload"},{json:F})}}})}function focusIbmid(){if(!dwsi.useFlash||(dwsi.useFlash&&dwsi.flashAvail)){clearForm();if(jQuery("#dw-mast-dname").is(":visible")){document.getElementById("dw-mast-dname").className="dw-mf-hide";document.getElementById("dw-mast-sso").className=""}if(dwsi.fi["#dw-mast-top-0-0"].hScrollDone&&dwsi.fi["#dw-mast-top-0-0"].vScrollDone){if(jQuery("#dw-mast-sso").is(":visible")){jQuery("#ibmid_mf").focus()
}else{if(jQuery("#dw-mast-auth").is(":visible")){jQuery("#dw-mast-top-0-0").focus()}}dwsi.fi["#dw-mast-top-0-0"].hScrollDone=false;dwsi.fi["#dw-mast-top-0-0"].vScrollDone=false}}}function getUserNotifications(){document.getElementById("dw-mast-sso").className="dw-mf-hide";document.getElementById("dw-mast-auth").className="";jQuery("#dw-mast-top-0-0").focus();fetchData("/developerworks/restapi/restservlet/profiles/usernotifications?rn="+Math.random(),function(C){if(typeof (C)!="undefined"){var B=C[0].notificationCount;
var A=C[1].invitationCount;if(B>=0||A>=0){document.getElementById("dw-mast-notify").className="";if(B!=-1){jQuery("#new_notify").parent().attr("class","");(B!=1)?jQuery("#new_notify").text(jQuery("#new_notify").text().replace(/{\[num_notify\](.*?)}/,B+"$1").replace(/\(\[num_notify\](.*)\)/,"")):jQuery("#new_notify").text(jQuery("#new_notify").text().replace(/\(\[num_notify\](.*?)\)/,B+"$1").replace(/{\[num_notify\](.*)}/,""))}else{jQuery("#new_notify").parent().attr("class","dw-mf-hide")}if(A!=-1){jQuery("#new_invite").parent().attr("class","");
(A!=1)?jQuery("#new_invite").text(jQuery("#new_invite").text().replace(/{\[num_invite\](.*?)}/,A+"$1").replace(/\(\[num_invite\](.*)\)/,"")):jQuery("#new_invite").text(jQuery("#new_invite").text().replace(/\(\[num_invite\](.*?)\)/,A+"$1").replace(/{\[num_invite\](.*)}/,""));jQuery("#new_invite").attr("href",jQuery("#new_invite").attr("href").replace(/\[lang\]/,rBHash.viperLang))}else{jQuery("#new_invite").parent().attr("class","dw-mf-hide")}}else{document.getElementById("dw-mast-notify").className="dw-mf-hide"
}}})}function changeSigninHtml(A){jQuery("#dw-mast-top-0, #dw-mast-top-0 a").addClass("authenticated");jQuery("#dw-mast-top-0 a").attr("href",signoutHref);var B=(typeof rBHash.dnameSuffix=="undefined")?A.screenname:A.screenname+rBHash.dnameSuffix;jQuery("#dw-mast-top-0 a").html(signoutText.replace(/\[userid\]/,B).replace(/\[uid\]/,A.ibmuniqueid))}function handleEP(E,D,B){var C=B||"overlay";var A=E.keyCode||E.which;if(A==13){signin(C)}}function prepareFlashEnv(){if(dwsi.useFlash){var A=new FlashObject(sUrl+"developerworks/js/dw-mf/connect.swf","sflash","1","1","8");
dwsi.flashAvail=(A.installedVer.versionIsValid(A.getAttribute("version")))?true:false;A.addParam("menu","false");A.addParam("wmode","window");A.addParam("movie",sUrl+"developerworks/js/dw-mf/connect.swf");A.addParam("swLiveConnect","true");A.addParam("AllowScriptAccess","always");A.write("fdiv")}clearForm()}function showSignIn(){if(dwsi.useFlash&&!dwsi.flashAvail){redirToDwSignin()}else{clearForm();dwsi.signinType="overlay";ibmCommon.Overlays.show("signin_overlay",this);document.sForm.ibmid.focus()
}}function signin(type){var sObj={};if(!dwsi.useFlash||(dwsi.useFlash&&dwsi.flashAvail)){if(typeof (type)!="undefined"&&type=="mf"){dwsi.signinType=type;sObj.username=document.sForm_name_mf.ibmid_name_mf.value;sObj.password=document.sForm_name_mf.pw_name_mf.value;sObj.alias=document.dForm_name_mf.dname_name_mf.value;sObj.perm=jQuery("#perm_mf").attr("checked")||"false"}else{sObj.username=document.sForm.ibmid.value;sObj.password=document.sForm.password.value;sObj.alias=document.dForm.displayname.value;
sObj.perm=jQuery("#perm").attr("checked")||"false"}if(rBHash.urlLang!="undefined"){sObj.lang=rBHash.urlLang}else{sObj.lang="en_us"}displayErrorMsg("signin_error_mf","");displayErrorMsg("signin_dname_error_mf","");displayErrorMsg("ibm-overlay-error-signin","");displayErrorMsg("ibm-overlay-error-dname","");jQuery("#ibmid_mf,#pw_mf,#ibmid,#password").removeClass("novalue")}if(!dwsi.useFlash){fetchData("/developerworks/dwwi/jsp/mastheadAuth.jsp",function(data){eval(data.trim().substring(1))},function(){},"text","POST",sObj)
}else{if(dwsi.useFlash&&dwsi.flashAvail){var fObj=document.getElementById("sflash");if(fObj){sObj.callback="signinCb";sObj.serverpath=sUrl+"developerworks/dwwi/jsp/mastheadAuth.jsp?";fObj.sendData(sObj)}else{redirToDwSignin()}}else{redirToDwSignin()}}}function displayErrorMsg(A,C){var B=document.getElementById(A);if(B){B.innerHTML="";if(C!=""){B.className="";B.setAttribute("role","alert");B.innerHTML='<p class="ibm-error"><em>'+C+"</em></p>"}else{B.className="no-display";B.removeAttribute("role")
}}}function redirAfterSignin(){var A=(dwsi.signinType=="mf")?document.sForm_name_mf.AfterSignIn_name_mf.value:document.sForm.SignInAction.value;if((typeof (A)!="undefined")&&(A!="")){window.location=A}}function redirToDwSignin(){if(authUrl!=""){window.location=authUrl+"&m=loginpage&d="+encodeURIComponent(location.href)}else{window.location=defAuthUrl+"&m=loginpage&d="+encodeURIComponent(location.href)}}function getAuthUrl(){if(authUrl!=""){return authUrl}else{return defAuthUrl}}function signinCb(D){if(D){var C=D.results[0].result;
var F=D.results[0].message;D.results[0].signin_type=dwsi.signinType;if(C=="success"){if(document.getElementById("signin_overlay")!=null){ibmCommon.Overlays.hide("signin_overlay")}getUserNotifications();changeSigninHtml(D.results[0]);dwsi.dwsiEvtTgt.fire({type:"dwsi_logged_in"},{json:D.results[0]});redirAfterSignin()}else{if(C=="failure"){var B=D.results[0].userid;var E=D.results[0].pass;if(dwsi.signinType=="mf"){if(B==""||B=="null"){jQuery("#ibmid_mf").addClass("novalue")}if(E==""||E=="null"){jQuery("#pw_mf").addClass("novalue")
}displayErrorMsg("signin_error_mf",F);displayErrorMsg("signin_dname_error_mf",F)}else{if(B==""||B=="null"){jQuery("#ibmid").addClass("novalue")}if(E==""||E=="null"){jQuery("#password").addClass("novalue")}displayErrorMsg("ibm-overlay-error-signin",F);displayErrorMsg("ibm-overlay-error-dname",F)}}else{if(C=="noalias"){var A="";if(dwsi.signinType=="mf"){A=document.getElementById("dw-mast-dname").className;if(A==""){displayErrorMsg("signin_dname_error_mf",F)}else{document.getElementById("dw-mast-sso").className="dw-mf-hide";
document.getElementById("dw-mast-dname").className=""}jQuery("#dname_mf").focus()}else{if(document.getElementById("displayname_overlay")!=null){A=document.getElementById("displayname_overlay").style.display}if((A!="none")&&(A!="")){displayErrorMsg("ibm-overlay-error-dname",F)}else{if(document.getElementById("signin_overlay")!=null){ibmCommon.Overlays.hide("signin_overlay")}if(document.getElementById("displayname_overlay")!=null){ibmCommon.Overlays.show("displayname_overlay",this)}}document.dForm.displayname.focus()
}}else{if(C=="aliasfailure"){if(dwsi.signinType=="mf"){displayErrorMsg("signin_dname_error_mf",F);jQuery("#dname_mf").focus()}else{displayErrorMsg("ibm-overlay-error-dname",F);document.dForm.displayname.focus()}}else{if(C=="aliassuccess"){if(dwsi.signinType=="mf"){document.getElementById("dw-mast-dname").className="dw-mf-hide"}else{if(document.getElementById("displayname_overlay")!=null){ibmCommon.Overlays.hide("displayname_overlay")}}getUserNotifications();changeSigninHtml(D.results[0]);dwsi.dwsiEvtTgt.fire({type:"dwsi_logged_in"},{json:D.results[0]});
redirAfterSignin()}else{redirToDwSignin()}}}}}}}function clearForm(){document.sForm_name_mf.ibmid_name_mf.value="";document.sForm_name_mf.pw_name_mf.value="";document.dForm_name_mf.dname_name_mf.value="";jQuery("#perm_mf,#perm").attr("checked",false);jQuery("#AfterSignIn_mf").get(0).selectedIndex=0;jQuery("#ibmid_mf,#pw_mf,#ibmid,#password").removeClass("novalue");if(typeof (document.sForm)!="undefined"){document.sForm.ibmid.value="";document.sForm.password.value="";displayErrorMsg("ibm-overlay-error-signin","")
}if(typeof (document.dForm)!="undefined"){document.dForm.displayname.value="";displayErrorMsg("ibm-overlay-error-dname","")}displayErrorMsg("signin_error_mf","");displayErrorMsg("signin_dname_error_mf","")};